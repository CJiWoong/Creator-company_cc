<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC	"-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="kr.co.cc.member.dao.MemberDAO">

	<insert id = "join" parameterType="kr.co.cc.member.dto.MemberDTO">
		INSERT INTO member(id,password,name,birth_date,hire_date,job_name,dept_name,email,phone,status,admin_chk,end_date)
			VALUES(#{id},#{password},#{name},#{birth_date},#{hire_date},#{job_name},#{dept_name},#{email},#{phone},1,0,'9999-12-31')
	</insert>
	
	<select id = "login" parameterType="hashmap">
		SELECT id FROM member WHERE id = #{id} and password = #{password}
	</select>
	
	<select id="idChk" resultType="int">
      SELECT COUNT(id) FROM member WHERE id = #{param1}
    </select>
    
    <select id="getUserInfo" parameterType="hashmap"
		resultType="kr.co.cc.member.dto.MemberDTO">
		SELECT id
		, password
		, name
		, birth_date
		, hire_date
		, end_date
		, email
		, phone
		, status
		, admin_chk
		, job_name
		, dept_name
		FROM member
		WHERE name = #{name}
		AND email = #{email}
	</select>
    
    
    <select id="getUserInfoPW" parameterType="hashmap"
		resultType="kr.co.cc.member.dto.MemberDTO">
		SELECT id
		, password
		, name
		, birth_date
		, hire_date
		, end_date
		, email
		, phone
		, status
		, admin_chk
		, job_name
		, dept_name
		FROM member
		WHERE id = #{id}
		AND name = #{name}
		AND email = #{email}
	</select>
	
	<select id="userInfo" resultType="kr.co.cc.member.dto.MemberDTO">
		SELECT id
		, password
		, name
		, birth_date
		, hire_date
		, end_date
		, email
		, phone
		, status
		, admin_chk
		, job_name
		, dept_name
		FROM member
		WHERE id = #{param1}

	</select>
	
	

</mapper>